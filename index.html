<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>ESP32 DC Motor Controller – Demo</title>

<!-- SEO -->
<meta name="description" content="Demo web interface for the ESP32-S3 DC Motor Controller – Open-source project by devbmv.">
<meta name="keywords" content="ESP32, DC motor controller, IoT, ESP32S3, fan control, PWM, CAN, devbmv, GitHub Pages demo">
<meta name="author" content="devbmv">
<meta name="robots" content="index, follow">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
<style>
body {
  background: radial-gradient(1200px 600px at 10% -10%, #e3f2fd 0, #fff 60%);
  min-height: 100vh;
}
.card {
  border: 0;
  border-radius: 1rem;
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.08);
}
.card-header {
  font-weight: 600;
}
.hdr-blue { background: linear-gradient(90deg,#0d6efd,#4dabf7);color:#fff;}
.hdr-green{ background:linear-gradient(90deg,#198754,#51cf66);color:#fff;}
.hdr-amber{ background:linear-gradient(90deg,#f59f00,#ffd43b);color:#2b2b2b;}
.kpi{font-size:2.2rem;font-weight:700;}
.progress{height:28px;}
.dark-mode{background:#111;color:#eee;}
</style>
</head>
<body>
<div class="container py-4">

  <h1 class="text-center mb-4 fw-bold">ESP32-S3 DC Motor Controller (Demo)</h1>

  <div class="row g-4">
    <div class="col-md-4">
      <div class="card">
        <div class="card-header hdr-blue">System temperature</div>
        <div class="card-body text-center">
          <div class="kpi"><span id="sysTemp">-- °C</span></div>
          <div class="progress"><div id="sysBar" class="progress-bar bg-primary" style="width:0%"></div></div>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card">
        <div class="card-header hdr-green">Engine temperature</div>
        <div class="card-body text-center">
          <div class="kpi"><span id="engTemp">-- °C</span></div>
          <div class="progress"><div id="engBar" class="progress-bar bg-success" style="width:0%"></div></div>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card">
        <div class="card-header hdr-amber d-flex justify-content-between align-items-center">
          <span>Fan power</span>
          <span id="modeBadge" class="badge text-bg-secondary">AUTO</span>
        </div>
        <div class="card-body text-center">
          <div class="kpi"><span id="fanStatus">OFF</span></div>
          <div class="progress mb-2"><div id="fanBar" class="progress-bar bg-warning" style="width:0%"></div></div>
          <button class="btn btn-outline-primary" id="toggleMode">Switch Mode</button>
        </div>
      </div>
    </div>
  </div>

  <div class="mt-5 text-center">
    <h5 class="text-muted">PWM Frequency</h5>
    <div class="progress mx-auto" style="max-width:400px;height:30px;">
      <div id="freqBar" class="progress-bar bg-info" style="width:0%"></div>
    </div>
    <p id="freqLabel" class="fw-bold mt-2">-- kHz</p>
  </div>

  <footer class="mt-5 text-center text-muted small">
    © 2025 <strong>devbmv</strong> – Demo version for GitHub Pages<br>
    Original project: <a href="https://github.com/devbmv/ESP32-DC-MOTOR-CONTROLLER" target="_blank">ESP32-DC-MOTOR-CONTROLLER</a>
  </footer>
</div>

<script>
let autoMode = true;

// Generate smooth fake sensor data
function fakeData() {
  const sys = 30 + Math.sin(Date.now()/10000)*10 + Math.random()*2;
  const eng = 40 + Math.cos(Date.now()/8000)*15 + Math.random()*3;
  const fan = autoMode ? Math.round((eng/100)*100) : Math.round(Math.random()*100);
  const freq = 1000 + fan*1000;

  document.getElementById('sysTemp').textContent = sys.toFixed(1) + " °C";
  document.getElementById('engTemp').textContent = eng.toFixed(1) + " °C";
  document.getElementById('fanStatus').textContent = fan>10 ? "ON" : "OFF";
  document.getElementById('freqLabel').textContent = (freq/1000).toFixed(1)+" kHz";

  document.getElementById('sysBar').style.width = Math.min(sys,100)+"%";
  document.getElementById('engBar').style.width = Math.min(eng,100)+"%";
  document.getElementById('fanBar').style.width = fan+"%";
  document.getElementById('freqBar').style.width = (fan)+"%";

  document.getElementById('modeBadge').textContent = autoMode ? "AUTO" : "MANUAL";
}
setInterval(fakeData, 1200);

document.getElementById('toggleMode').onclick = ()=>{
  autoMode = !autoMode;
};
</script>
</body>
</html>
